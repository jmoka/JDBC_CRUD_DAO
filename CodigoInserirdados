Claro! A seguir, uma **aula completa sobre inserÃ§Ã£o de dados com JDBC em Java**, com foco especial no uso do `PreparedStatement`.

---

# ğŸ“ Aula: Inserindo Dados com JDBC em Java â€“ Usando `PreparedStatement`

## ğŸ¯ Objetivo

Aprender a **inserir dados em um banco de dados MySQL usando JDBC**, com Ãªnfase no uso do `PreparedStatement` para seguranÃ§a, performance e boas prÃ¡ticas.

---

## ğŸ§  Conceitos BÃ¡sicos

### O que Ã© JDBC?

JDBC (Java Database Connectivity) Ã© uma API da linguagem Java que permite **conectar e interagir com bancos de dados relacionais**, como MySQL, PostgreSQL, Oracle etc.

### O que Ã© o `PreparedStatement`?

`PreparedStatement` Ã© uma **interface do JDBC** usada para executar instruÃ§Ãµes SQL com parÃ¢metros. Ela previne **SQL Injection**, melhora a **performance** e facilita o **reaproveitamento de cÃ³digo**.

---

## ğŸ“¦ PrÃ©-requisitos

* Java instalado
* MySQL instalado
* Biblioteca do conector JDBC (`mysql-connector-j`) adicionada ao classpath
* Um banco de dados e uma tabela criada:

```sql
CREATE DATABASE curso_java;
USE curso_java;

CREATE TABLE usuarios (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(100),
    email VARCHAR(100),
    idade INT
);
```

---

## ğŸ› ï¸ Estrutura do Projeto

```
/src
  â””â”€â”€ db/
      â”œâ”€â”€ DB.java
  â””â”€â”€ application/
      â”œâ”€â”€ InsercaoUsuario.java
```

---

## ğŸ§© Parte 1 â€“ Classe de ConexÃ£o (`DB.java`)

```java
package db;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.SQLException;

public class DB {
    private static final String URL = "jdbc:mysql://localhost:3306/curso_java";
    private static final String USER = "root";
    private static final String PASSWORD = "sua_senha";

    public static Connection getConnection() {
        try {
            return DriverManager.getConnection(URL, USER, PASSWORD);
        } catch (SQLException e) {
            throw new RuntimeException("Erro na conexÃ£o com o banco de dados: " + e.getMessage());
        }
    }
}
```

---

## ğŸ§© Parte 2 â€“ Inserindo Dados com `PreparedStatement`

```java
package application;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.SQLException;
import db.DB;

public class InsercaoUsuario {
    public static void main(String[] args) {
        Connection conn = null;
        PreparedStatement stmt = null;

        try {
            // 1. Obter conexÃ£o
            conn = DB.getConnection();

            // 2. Comando SQL com parÃ¢metros (placeholders ?)
            String sql = "INSERT INTO usuarios (nome, email, idade) VALUES (?, ?, ?)";

            // 3. Criar o PreparedStatement
            stmt = conn.prepareStatement(sql);

            // 4. Preencher os parÃ¢metros
            stmt.setString(1, "JoÃ£o Silva");    // ?1
            stmt.setString(2, "joao@email.com"); // ?2
            stmt.setInt(3, 30);                 // ?3

            // 5. Executar a inserÃ§Ã£o
            int linhasAfetadas = stmt.executeUpdate();
            System.out.println("Linhas inseridas: " + linhasAfetadas);

        } catch (SQLException e) {
            System.err.println("Erro ao inserir: " + e.getMessage());
        } finally {
            try {
                if (stmt != null) stmt.close();
                if (conn != null) conn.close();
            } catch (SQLException e) {
                System.err.println("Erro ao fechar conexÃµes: " + e.getMessage());
            }
        }
    }
}
```

---

## ğŸ§  Explicando em Detalhes o `PreparedStatement`

### âœ… Vantagens do `PreparedStatement`

| Vantagem        | ExplicaÃ§Ã£o                                                       |
| --------------- | ---------------------------------------------------------------- |
| **SeguranÃ§a**   | Evita ataques de SQL Injection ao separar comandos SQL dos dados |
| **Performance** | O SQL Ã© compilado apenas uma vez e pode ser reutilizado          |
| **Clareza**     | O cÃ³digo fica mais limpo e organizado com parÃ¢metros             |

### ğŸ§ª Exemplo de SQL Injection prevenido

Imagine este cÃ³digo com `Statement` comum:

```java
String sql = "INSERT INTO usuarios (nome) VALUES ('" + nome + "')";
```

Se o usuÃ¡rio digitar: `"JoÃ£o'); DROP TABLE usuarios; --"`
VocÃª pode perder sua tabela!

Com `PreparedStatement`, o valor Ã© tratado como **dado**, e nÃ£o como **comando**.

---

## âœ… Boas PrÃ¡ticas

* Sempre use `PreparedStatement` para comandos com entrada do usuÃ¡rio.
* Feche conexÃµes, statements e result sets no `finally` (ou use `try-with-resources`).
* Use mensagens de erro claras e logue exceÃ§Ãµes em ambientes reais.

---

## ğŸš€ Desafio

Adapte o cÃ³digo para:

1. Solicitar os dados do usuÃ¡rio via `Scanner` (entrada do teclado).
2. Inserir mÃºltiplos usuÃ¡rios em sequÃªncia.
3. Usar `try-with-resources`.

---

## ğŸ“š ConclusÃ£o

Nesta aula, vocÃª aprendeu:

* O que Ã© JDBC e como conectar ao MySQL
* O que Ã© `PreparedStatement` e suas vantagens
* Como inserir dados com seguranÃ§a e eficiÃªncia
* Boas prÃ¡ticas para manipular banco de dados em Java

Se quiser, posso complementar com uma versÃ£o que usa `Scanner` para inserir dados dinamicamente ou mostrar como usar `try-with-resources`. Deseja isso tambÃ©m?
